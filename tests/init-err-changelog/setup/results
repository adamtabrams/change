#!/bin/sh

testname="$(basename "$(cd .. && pwd)")"
RED=$(tput setaf 1)
GREEN=$(tput setaf 2)
NORMAL=$(tput sgr0)

if cmp --silent act-stdout exp-stdout; then
    echo "${GREEN}PASS"
else
    echo "${RED}FAIL ${NORMAL}- $testname: stdout did not match"
fi

if cmp --silent act-stderr exp-stderr; then
    echo "${GREEN}PASS"
else
    echo "${RED}FAIL ${NORMAL}- $testname: stderr did not match"
fi

if [ ! "$(cat CHANGELOG.md)" ]; then
    echo "${GREEN}PASS"
else
    echo "${RED}FAIL ${NORMAL}- $testname: created changelog"
fi

printf "%s" "$NORMAL"
